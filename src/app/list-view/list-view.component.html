<div *ngIf="userData" class="table-container">

  <button (click)="goToEdit()" class="edit-button" mat-flat-button color="primary">Edit</button>

  <table mat-table [dataSource]="userData" class="mat-elevation-z8">
  
    <ng-container matColumnDef="{{displayedColumns[0]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[0]}}</th>
      <td mat-cell *matCellDef="let user"> {{user.id}} </td>
    </ng-container>
  
    <ng-container matColumnDef="{{displayedColumns[1]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[1]}}</th>
      <td [ngClass]="{'updated': userChangedPropsArr[i][PROP_MAPPING[1][0]]}" mat-cell *matCellDef="let user; let i = index"> {{user.name}} </td>
    </ng-container>
  
    <ng-container matColumnDef="{{displayedColumns[2]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[2]}}</th>
      <td [ngClass]="{'updated': userChangedPropsArr[i][PROP_MAPPING[2][0]]}" mat-cell *matCellDef="let user; let i = index"> {{user.username}} </td>
    </ng-container>
  
    <ng-container matColumnDef="{{displayedColumns[3]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[3]}}</th>
      <td [ngClass]="{'updated': userChangedPropsArr[i][PROP_MAPPING[3][0]]}" mat-cell *matCellDef="let user; let i = index"> {{user.email}} </td>
    </ng-container>
  
    <ng-container matColumnDef="{{displayedColumns[4]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[4]}}</th>
      <td [ngClass]="{'updated': userChangedPropsArr[i][PROP_MAPPING[4][0]]}" mat-cell *matCellDef="let user; let i = index"> {{user.address.street}} </td>
    </ng-container>
  
    <ng-container matColumnDef="{{displayedColumns[5]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[5]}}</th>
      <td [ngClass]="{'updated': userChangedPropsArr[i][PROP_MAPPING[5][0]]}" mat-cell *matCellDef="let user; let i = index"> {{user.address.suite}} </td>
    </ng-container>
  
    <ng-container matColumnDef="{{displayedColumns[6]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[6]}}</th>
      <td [ngClass]="{'updated': userChangedPropsArr[i][PROP_MAPPING[6][0]]}" mat-cell *matCellDef="let user; let i = index"> {{user.address.city}} </td>
    </ng-container>
  
    <ng-container matColumnDef="{{displayedColumns[7]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[7]}}</th>
      <td [ngClass]="{'updated': userChangedPropsArr[i][PROP_MAPPING[7][0]]}" mat-cell *matCellDef="let user; let i = index"> {{user.address.zipcode}} </td>
    </ng-container>
    
    <ng-container matColumnDef="{{displayedColumns[8]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[8]}}</th>
      <td [ngClass]="{'updated': userChangedPropsArr[i][PROP_MAPPING[8][0]]}" mat-cell *matCellDef="let user; let i = index"> {{user.address.geo.lat}} </td>
    </ng-container>
    
    <ng-container matColumnDef="{{displayedColumns[9]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[9]}}</th>
      <td [ngClass]="{'updated': userChangedPropsArr[i][PROP_MAPPING[9][0]]}" mat-cell *matCellDef="let user; let i = index"> {{user.address.geo.lng}} </td>
    </ng-container>
  
    <ng-container matColumnDef="{{displayedColumns[10]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[10]}}</th>
      <td [ngClass]="{'updated': userChangedPropsArr[i][PROP_MAPPING[10][0]]}" mat-cell *matCellDef="let user; let i = index"> {{user.phone}} </td>
    </ng-container>
    
    <ng-container matColumnDef="{{displayedColumns[11]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[11]}}</th>
      <td [ngClass]="{'updated': userChangedPropsArr[i][PROP_MAPPING[11][0]]}" mat-cell *matCellDef="let user; let i = index"> {{user.website}} </td>
    </ng-container>
    
    <ng-container matColumnDef="{{displayedColumns[12]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[12]}}</th>
      <td [ngClass]="{'updated': userChangedPropsArr[i][PROP_MAPPING[12][0]]}" mat-cell *matCellDef="let user; let i = index"> {{user.company.name}} </td>
    </ng-container>
  
    <ng-container matColumnDef="{{displayedColumns[13]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[13]}}</th>
      <td [ngClass]="{'updated': userChangedPropsArr[i][PROP_MAPPING[13][0]]}" mat-cell *matCellDef="let user; let i = index"> {{user.company.catchPhrase}} </td>
    </ng-container>
  
    <ng-container matColumnDef="{{displayedColumns[14]}}">
      <th mat-header-cell *matHeaderCellDef>{{displayedColumns[14]}}</th>
      <td [ngClass]="{'updated': userChangedPropsArr[i][PROP_MAPPING[14][0]]}" mat-cell *matCellDef="let user; let i = index"> {{user.company.bs}} </td>
    </ng-container>
  
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

</div>
